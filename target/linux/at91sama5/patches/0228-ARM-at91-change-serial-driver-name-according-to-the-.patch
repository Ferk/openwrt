From 81bb2bc15e9a3fcad6c3b0d162b827e5f531b0cc Mon Sep 17 00:00:00 2001
From: Nicolas Ferre <nicolas.ferre@atmel.com>
Date: Thu, 13 Dec 2012 15:38:40 +0100
Subject: [PATCH 228/319] ARM: at91: change serial driver name according to
 the move to id_table

Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com>
---
 arch/arm/mach-at91/at91sam9260.c         |   14 +++++++-------
 arch/arm/mach-at91/at91sam9260_devices.c |   14 +++++++-------
 arch/arm/mach-at91/at91sam9g45.c         |   10 +++++-----
 arch/arm/mach-at91/at91sam9g45_devices.c |   10 +++++-----
 4 files changed, 24 insertions(+), 24 deletions(-)

diff --git a/arch/arm/mach-at91/at91sam9260.c b/arch/arm/mach-at91/at91sam9260.c
index c9e029e..0860212 100644
--- a/arch/arm/mach-at91/at91sam9260.c
+++ b/arch/arm/mach-at91/at91sam9260.c
@@ -242,13 +242,13 @@ static struct clk_lookup periph_clocks_lookups[] = {
 };
 
 static struct clk_lookup usart_clocks_lookups[] = {
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.0", &mck),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.1", &usart0_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.2", &usart1_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.3", &usart2_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.4", &usart3_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.5", &usart4_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.6", &usart5_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.0", &mck),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.1", &usart0_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.2", &usart1_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.3", &usart2_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.4", &usart3_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.5", &usart4_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.6", &usart5_clk),
 };
 
 /*
diff --git a/arch/arm/mach-at91/at91sam9260_devices.c b/arch/arm/mach-at91/at91sam9260_devices.c
index 3c11691..91934e4 100644
--- a/arch/arm/mach-at91/at91sam9260_devices.c
+++ b/arch/arm/mach-at91/at91sam9260_devices.c
@@ -906,7 +906,7 @@ static struct atmel_uart_data dbgu_data = {
 static u64 dbgu_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9260_dbgu_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 0,
 	.dev		= {
 				.dma_mask		= &dbgu_dmamask,
@@ -944,7 +944,7 @@ static struct atmel_uart_data uart0_data = {
 static u64 uart0_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9260_uart0_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 1,
 	.dev		= {
 				.dma_mask		= &uart0_dmamask,
@@ -995,7 +995,7 @@ static struct atmel_uart_data uart1_data = {
 static u64 uart1_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9260_uart1_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 2,
 	.dev		= {
 				.dma_mask		= &uart1_dmamask,
@@ -1038,7 +1038,7 @@ static struct atmel_uart_data uart2_data = {
 static u64 uart2_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9260_uart2_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 3,
 	.dev		= {
 				.dma_mask		= &uart2_dmamask,
@@ -1081,7 +1081,7 @@ static struct atmel_uart_data uart3_data = {
 static u64 uart3_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9260_uart3_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 4,
 	.dev		= {
 				.dma_mask		= &uart3_dmamask,
@@ -1124,7 +1124,7 @@ static struct atmel_uart_data uart4_data = {
 static u64 uart4_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9260_uart4_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 5,
 	.dev		= {
 				.dma_mask		= &uart4_dmamask,
@@ -1162,7 +1162,7 @@ static struct atmel_uart_data uart5_data = {
 static u64 uart5_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9260_uart5_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 6,
 	.dev		= {
 				.dma_mask		= &uart5_dmamask,
diff --git a/arch/arm/mach-at91/at91sam9g45.c b/arch/arm/mach-at91/at91sam9g45.c
index c5c2acc..90edfd7 100644
--- a/arch/arm/mach-at91/at91sam9g45.c
+++ b/arch/arm/mach-at91/at91sam9g45.c
@@ -278,11 +278,11 @@ static struct clk_lookup periph_clocks_lookups[] = {
 };
 
 static struct clk_lookup usart_clocks_lookups[] = {
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.0", &mck),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.1", &usart0_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.2", &usart1_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.3", &usart2_clk),
-	CLKDEV_CON_DEV_ID("usart", "atmel_usart.4", &usart3_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.0", &mck),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.1", &usart0_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.2", &usart1_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.3", &usart2_clk),
+	CLKDEV_CON_DEV_ID("usart", "at91sam9260-usart.4", &usart3_clk),
 };
 
 /*
diff --git a/arch/arm/mach-at91/at91sam9g45_devices.c b/arch/arm/mach-at91/at91sam9g45_devices.c
index 40b59d9..4a77c4b 100644
--- a/arch/arm/mach-at91/at91sam9g45_devices.c
+++ b/arch/arm/mach-at91/at91sam9g45_devices.c
@@ -1596,7 +1596,7 @@ static struct atmel_uart_data dbgu_data = {
 static u64 dbgu_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9g45_dbgu_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 0,
 	.dev		= {
 				.dma_mask		= &dbgu_dmamask,
@@ -1634,7 +1634,7 @@ static struct atmel_uart_data uart0_data = {
 static u64 uart0_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9g45_uart0_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 1,
 	.dev		= {
 				.dma_mask		= &uart0_dmamask,
@@ -1677,7 +1677,7 @@ static struct atmel_uart_data uart1_data = {
 static u64 uart1_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9g45_uart1_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 2,
 	.dev		= {
 				.dma_mask		= &uart1_dmamask,
@@ -1720,7 +1720,7 @@ static struct atmel_uart_data uart2_data = {
 static u64 uart2_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9g45_uart2_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 3,
 	.dev		= {
 				.dma_mask		= &uart2_dmamask,
@@ -1763,7 +1763,7 @@ static struct atmel_uart_data uart3_data = {
 static u64 uart3_dmamask = DMA_BIT_MASK(32);
 
 static struct platform_device at91sam9g45_uart3_device = {
-	.name		= "atmel_usart",
+	.name		= "at91sam9260-usart",
 	.id		= 4,
 	.dev		= {
 				.dma_mask		= &uart3_dmamask,
-- 
1.7.10.4

